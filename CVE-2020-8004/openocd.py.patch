--- openocd.py	2021-12-10 16:31:46.806174863 +0700
+++ openocd2.py	2021-12-10 16:31:10.558083092 +0700
@@ -49,7 +49,7 @@
         self._socket.close()
 
     def send(self, cmd):
-        data = (cmd + OpenOcd.COMMAND_TOKEN).encode('utf-8')
+        data = ('capture "' + cmd + '"' + OpenOcd.COMMAND_TOKEN).encode('utf-8')
         self._socket.send(data)
 
         return self._recv()
@@ -106,7 +106,7 @@
         self.send('mem2array %s %d 0x%x %d' % (self._tcl_variable,
             word_length, address, count))
 
-        raw = self.send('return $%s' % self._tcl_variable).split(' ')
+        raw = self.send('return \$%s' % self._tcl_variable).split(' ')
 
         order = [int(raw[2 * i]) for i in range(len(raw) // 2)]
         values = [int(raw[2 * i + 1]) for i in range(len(raw) // 2)]
